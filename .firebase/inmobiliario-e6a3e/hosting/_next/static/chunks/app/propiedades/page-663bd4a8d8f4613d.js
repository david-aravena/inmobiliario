(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{6619:(e,i,a)=>{Promise.resolve().then(a.bind(a,1002))},1002:(e,i,a)=>{"use strict";a.r(i),a.d(i,{default:()=>C});var s=a(5155),n=a(2115),t=a(5565),l=a(9503),r=a(9838),d=a.n(r);function c(e){let{itemSelected:i,setItemSelected:a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:d().showContainer,children:[(0,s.jsx)("div",{style:{padding:"0 1rem",display:"flex",justifyContent:"flex-end",padding:"1rem 0"},children:(0,s.jsx)("button",{onClick:()=>a(null),children:"Volver al Home"})}),(0,s.jsxs)("div",{className:d().infoContainer,children:[(0,s.jsxs)("div",{className:d().imagesContainer,children:[(0,s.jsx)("div",{className:d().imageSelectedContainer,children:i.images.length&&(0,s.jsx)("img",{src:URL.createObjectURL(i.images[i.imageSelected||0]),alt:"error",height:"100%",style:{objectFit:"cover",maxWidth:"100%"}})}),(0,s.jsx)("div",{style:{width:"100%",padding:"1rem 0",overflowX:"auto",whiteSpace:"nowrap"},children:i.images.map((e,n)=>(0,s.jsx)("img",{src:URL.createObjectURL(e)||null,alt:"Imagen",style:{margin:"0 10px",objectFit:"cover",width:100,height:100,display:"inline-block"},onClick:()=>a({...i,imageSelected:n})},n))})]}),(0,s.jsxs)("div",{className:d().detailsContainer,children:[(0,s.jsx)("div",{style:{padding:"0 0 1rem 0"},children:(0,s.jsx)("button",{className:d().buttonContact,children:"Contactar al vendedor"})}),(0,s.jsx)("div",{className:d().descriptionContainer,children:(0,s.jsx)("p",{children:i.description})}),(0,s.jsx)("div",{className:d().timeStampContainer,children:(0,s.jsx)("p",{children:"Publicado hace 30 minutos"})}),(0,s.jsx)("div",{className:d().ufContainer,children:(0,s.jsx)("p",{children:"UF 17.900"})}),(0,s.jsx)("div",{className:d().priceContainer,children:(0,s.jsxs)("p",{children:["$",i.price]})}),(0,s.jsxs)("div",{className:d().roomsBathsPark,children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 15 15",children:(0,s.jsx)("path",{fill:"#1b1464",fillRule:"evenodd",d:"M11.5 3.05a.45.45 0 0 1 .45.45v4a.45.45 0 0 1-.9 0V4.586L4.586 11.05H7.5a.45.45 0 0 1 0 .9h-4a.45.45 0 0 1-.45-.45v-4a.45.45 0 1 1 .9 0v2.914l6.464-6.464H7.5a.45.45 0 1 1 0-.9z",clipRule:"evenodd"})}),(0,s.jsxs)("h3",{children:[i.mts," mts"]})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 48 48",children:(0,s.jsxs)("g",{fill:"none",stroke:"#1b1464",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,children:[(0,s.jsx)("path",{d:"M8 12a3 3 0 0 1 3-3h26a3 3 0 0 1 3 3v11H8zM6 35v4m36-4v4"}),(0,s.jsx)("path",{d:"M20 18h-6a3 3 0 0 0-3 3v2h12v-2a3 3 0 0 0-3-3m14 0h-6a3 3 0 0 0-3 3v2h12v-2a3 3 0 0 0-3-3M4 26a3 3 0 0 1 3-3h34a3 3 0 0 1 3 3v9H4z"})]})}),(0,s.jsxs)("h3",{children:[i.bedRooms," "]})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 256 256",children:(0,s.jsx)("path",{fill:"#1b1464",d:"M240 92h-28.7a12 12 0 0 0-11.3-8h-64a12 12 0 0 0-11.3 8H68V52a8 8 0 0 1 8-8a8.5 8.5 0 0 1 8.24 6.39a12 12 0 0 0 23.52-4.78A32.22 32.22 0 0 0 44 52v40H16a12 12 0 0 0-12 12v40a60.07 60.07 0 0 0 56 59.85V216a12 12 0 0 0 24 0v-12h88v12a12 12 0 0 0 24 0v-12.15A60.07 60.07 0 0 0 252 144v-40a12 12 0 0 0-12-12m-92 16h40v24h-40Zm80 36a36 36 0 0 1-36 36H64a36 36 0 0 1-36-36v-28h96v28a12 12 0 0 0 12 12h64a12 12 0 0 0 12-12v-28h16Z"})}),(0,s.jsx)("h3",{children:i.bathrooms})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 256 256",children:(0,s.jsx)("path",{fill:"#1b1464",d:"M236 108h-23l-42.17-42.14A19.86 19.86 0 0 0 156.69 60H48.28a20 20 0 0 0-16.64 8.91L2 113.34A12 12 0 0 0 0 120v48a20 20 0 0 0 20 20h13.5a34 34 0 0 0 65 0h59a34 34 0 0 0 65 0H236a20 20 0 0 0 20-20v-40a20 20 0 0 0-20-20M50.42 84H155l24 24H34.42ZM66 188a10 10 0 1 1 10-10a10 10 0 0 1-10 10m124 0a10 10 0 1 1 10-10a10 10 0 0 1-10 10m42-24h-11a34 34 0 0 0-62 0H97a34 34 0 0 0-62 0H24v-32h208Z"})}),(0,s.jsx)("h3",{children:i.parking})]})]})]})]})]})})}var o=a(7495),h=a.n(o);function m(e){let{submit:i}=e,[a,r]=(0,n.useState)(!0),[d,o]=(0,n.useState)({price:"",ubication:"",type:"",state:"",mts:"",bedRooms:"",bathrooms:"",parking:"",image:null,imagePreview:"",images:[],imageSelected:"",description:""}),m=e=>{let{name:i,value:a,files:s}=e.target;if("images"===i&&s.length>0){let e=Array.from(s).map(e=>e);o(i=>({...i,images:[...i.images,...e]}))}else"image"===i&&s.length>0?o(e=>({...e,image:s[0],imagePreview:URL.createObjectURL(s[0])})):o(e=>({...e,[i]:a}))};return(0,s.jsxs)("div",{className:h().createPropertyContainer,children:[(0,s.jsx)("div",{className:h().formCreatePropertyContainer,children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(d)},children:[a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{children:"Valor"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("input",{type:"text",name:"price",value:d.price,onChange:e=>m(e)})})]}),(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{children:"Ubicacion"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("input",{type:"text",name:"ubication",value:d.ubication,onChange:e=>m(e)})})]}),(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{htmlFor:"propertyType",children:"Tipo"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsxs)("select",{name:"type",id:"propertyType",value:d.type,onChange:e=>m(e),children:[(0,s.jsx)("option",{value:"casa",children:"Casa"}),(0,s.jsx)("option",{value:"departamento",children:"Departamento"}),(0,s.jsx)("option",{value:"oficina",children:"Oficina"}),(0,s.jsx)("option",{value:"terreno",children:"Terreno"})]})})]}),(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{htmlFor:"state",children:"Estado"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsxs)("select",{name:"state",value:d.state,onChange:e=>m(e),children:[(0,s.jsx)("option",{value:"venta",children:"Venta"}),(0,s.jsx)("option",{value:"arriendo",children:"Arriendo"})]})})]}),(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{children:"Metros cuadrados"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("input",{type:"text",name:"mts",value:d.mts,onChange:e=>m(e)})})]}),(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{children:"Habitaciones"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("input",{type:"text",name:"bedRooms",value:d.bedRooms,onChange:e=>m(e)})})]}),(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{children:"Ba\xf1os"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("input",{type:"text",name:"bathrooms",value:d.bathrooms,onChange:e=>m(e)})})]}),(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{children:"Estacionamientos"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("input",{type:"text",name:"parking",value:d.parking,onChange:e=>m(e)})})]}),(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{children:"Vista previa"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("input",{type:"file",name:"image",onChange:e=>m(e)})})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{children:"Mas imagenes"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("input",{type:"file",name:"images",multiple:!0,onChange:e=>m(e)})})]}),(0,s.jsxs)("div",{className:h().field,children:[(0,s.jsx)("div",{className:h().labelContainer,children:(0,s.jsx)("label",{children:"Descripcion"})}),(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("textarea",{name:"description",rows:"4",cols:"50",onChange:e=>m(e),value:d.description})})]}),(0,s.jsx)("div",{className:h().field,children:(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("input",{type:"submit",value:"crear propiedad"})})})]}),(0,s.jsx)("div",{className:h().field,children:(0,s.jsx)("div",{className:h().inputContainer,children:(0,s.jsx)("button",{type:"button",onClick:()=>r(!a),children:"Siguiente"})})})]})}),(0,s.jsx)("div",{className:h().previewNewProperty,children:a?(0,s.jsx)(l.A,{styles:h(),item:d,children:d.imagePreview?(0,s.jsx)(t.default,{src:d.imagePreview,alt:"Vista previa",layout:"fill",objectFit:"cover"}):(0,s.jsx)("div",{children:"Selecciona una imagen para vista previa"})}):(0,s.jsx)(c,{itemSelected:d,setItemSelected:e=>o({...d,imageSelected:e.imageSelected})})})]})}var x=a(5421),p=a(3810),v=a(7112),j=a(4685);let u=async(e,i)=>{let a=async()=>await Promise.all(i.map(async e=>{console.log("image",e);let i=await (0,j.lE)(e);return await (0,j.hG)(i)}));await (0,j.lE)(e.image).then(async i=>{let s=await (0,j.hG)(i),n=await a(),t={...e,image:s,images:n};await (0,v.wE)("properties",t)}).catch(e=>{console.error("Error saving property:",e)})};var g=a(1663);function C(){let[e,i]=(0,n.useState)(null),[a,t]=(0,n.useState)(!1),r=(0,g.A)(),d=e=>{u({...e,user:r.uid},e.images)},o={ubication:"",type:"",state:"",condition:"",user:null==e?void 0:e.uid};return(0,n.useEffect)(()=>{r&&i({uid:r.uid})},[r]),(0,s.jsx)(s.Fragment,{children:e?(0,s.jsx)(s.Fragment,{children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>t(!1),children:"Lista de propiedades"}),(0,s.jsx)(m,{submit:e=>d(e)})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,s.jsx)("button",{onClick:()=>t(!0),children:"Crear propiedad"})}),(0,s.jsx)(x.A,{getItems:()=>(0,v.a0)("properties",e.uid),filter:(e,i)=>(0,s.jsx)(p.A,{styles:e,setResult:e=>i(e),obj:o}),CardUI:l.A,ModalUI:c})]})}):(0,s.jsx)("p",{children:"No hay respuesta del servidor"})})}},4685:(e,i,a)=>{"use strict";a.d(i,{hG:()=>r,lE:()=>l});var s=a(333),n=a(4833);let t=(0,s.c7)(n.A),l=async e=>{let i=(0,s.KR)(t,"images/".concat(e.name));return await (0,s.D)(i,e),i},r=async e=>await (0,s.qk)(e)},9838:e=>{e.exports={showContainer:"modalProperties_showContainer__Bq65_",infoContainer:"modalProperties_infoContainer__CruOM",imagesContainer:"modalProperties_imagesContainer__8y6_0",imageSelectedContainer:"modalProperties_imageSelectedContainer__1mmld",detailsContainer:"modalProperties_detailsContainer__LsM20",descriptionContainer:"modalProperties_descriptionContainer__tm4Wi",ufContainer:"modalProperties_ufContainer__kNOXs",priceContainer:"modalProperties_priceContainer__jq301",roomsBathsPark:"modalProperties_roomsBathsPark__P_WGl",timeStampContainer:"modalProperties_timeStampContainer__fj5Zg",buttonContact:"modalProperties_buttonContact__PirqZ"},e.exports.__checksum="e05c48f69f55"}},e=>{var i=i=>e(e.s=i);e.O(0,[181,156,882,992,868,396,807,565,333,768,441,517,358],()=>i(6619)),_N_E=e.O()}]);